{
  "name": "TTRPG Video Generation",
  "nodes": [
    {
      "type": "webhook",
      "name": "Webhook",
      "webhookId": "video-generation"
    },
    {
      "type": "execute",
      "name": "AnimateDiff",
      "command": "python animatediff_cli.py",
      "args": "--prompt \"{{$json.prompt}}\" --image \"{{$json.image}}\""
    },
    {
      "type": "function",
      "name": "Process Video",
      "code": "\n            return [{\n              json: {\n                success: true,\n                video: $node[\"AnimateDiff\"].json.output,\n                frames: $json.frames\n              }\n            }];\n          "
    }
  ]
}